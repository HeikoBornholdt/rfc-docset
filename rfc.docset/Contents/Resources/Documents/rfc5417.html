<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="index,follow" name="robots"/>
<meta content="rfchandler version 0.2" name="creator"/>
<meta content="P. Calhoun" name="citation_author"/>
<meta content="March, 2009" name="citation_publication_date"/>
<meta content="Control And Provisioning of Wireless Access Points (CAPWAP) Access Controller DHCP Option" name="citation_title"/>
<meta content="10.17487/RFC5417" name="citation_doi"/>
<meta content="2070-1721" name="citation_issn"/>
<meta content="rfc5417" name="citation_technical_report_number"/>
<meta content="https://www.rfc-editor.org/rfc/pdfrfc/rfc5417.txt.pdf" name="citation_pdf_url"/>
<title>RFC 5417: Control And Provisioning of Wireless Access Points (CAPWAP) Access Controller DHCP Option</title>
<style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
           /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
<!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]--> <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script></head>
<body>
<span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href="/rfc/rfc5417.txt">TEXT</a>|<a href="/rfc/pdfrfc/rfc5417.txt.pdf">PDF</a>|<a href="/rfc/rfc5417.html">HTML</a>] [<a href="https://datatracker.ietf.org/doc/rfc5417" title="IETF Datatracker information for this document">Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=5417&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>] [<a href="https://www.rfc-editor.org/info/rfc5417" title="Info page">Info page</a>]                  </span><br/><span class="pre noprint docinfo"> </span><br/><span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/><span class="pre noprint docinfo"> </span><pre>Network Working Group                                         P. Calhoun
Request for Comments: 5417                           Cisco Systems, Inc.
Category: Standards Track                                     March 2009


      <span class="h1">Control And Provisioning of Wireless Access Points (CAPWAP)</span>
                     <span class="h1">Access Controller DHCP Option</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Abstract

   The Control And Provisioning of Wireless Access Points Protocol
   allows a Wireless Termination Point to use DHCP to discover the
   Access Controllers to which it is to connect.  This document
   describes the DHCP options to be used by the CAPWAP Protocol.






<span class="grey">Calhoun                     Standards Track                     [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc5417.html">RFC 5417</a>                 CAPWAP AC DHCP Option                March 2009</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
      <a href="#section-1.1">1.1</a>. Conventions Used in This Document ..........................<a href="#page-2">2</a>
      <a href="#section-1.2">1.2</a>. Terminology ................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. CAPWAP AC DHCPv4 Option .........................................<a href="#page-2">2</a>
   <a href="#section-3">3</a>. CAPWAP AC DHCPv6 Option .........................................<a href="#page-3">3</a>
   <a href="#section-4">4</a>. IANA Considerations .............................................<a href="#page-5">5</a>
   <a href="#section-5">5</a>. Security Considerations .........................................<a href="#page-5">5</a>
   <a href="#section-6">6</a>. Acknowledgments .................................................<a href="#page-5">5</a>
   <a href="#section-7">7</a>. References ......................................................<a href="#page-5">5</a>
      <a href="#section-7.1">7.1</a>. Normative References .......................................<a href="#page-5">5</a>
      <a href="#section-7.2">7.2</a>. Informative References .....................................<a href="#page-6">6</a>

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/1.%20%20Introduction"></a></body></html><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   The Control And Provisioning of Wireless Access Points Protocol
   (CAPWAP) [<a href="./rfc5415.html" title='"CAPWAP Protocol Specification"'>RFC5415</a>] allows a Wireless Termination Point (WTP) to use
   DHCP to discover the Access Controllers (AC) to which it is to
   connect.

   Prior to the CAPWAP Discovery process, the WTP may use one of many
   methods to identify the proper AC with which to establish a CAPWAP
   connection.  One of these methods is through the DHCP protocol.  This
   is done through the CAPWAP AC DHCPv4 or CAPWAP AC DHCPv6 Option.

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a></body></html><a class="selflink" href="#section-1.1" id="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The key words "<em>MUST</em>", "<em>MUST NOT</em>", "<em>REQUIRED</em>", "<em>SHALL</em>", "<em>SHALL NOT</em>",
   "<em>SHOULD</em>", "<em>SHOULD NOT</em>", "<em>RECOMMENDED</em>", "<em>MAY</em>", and "<em>OPTIONAL</em>" in this
   document are to be interpreted as described in <a href="./rfc2119.html">RFC 2119</a> [<a href="./rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/1.2.%20%20Terminology"></a></body></html><a class="selflink" href="#section-1.2" id="section-1.2">1.2</a>.  Terminology</span>

   This document uses terminology defined in [<a href="./rfc3753.html" title='"Mobility Related Terminology"'>RFC3753</a>], [<a href="./rfc2131.html" title='"Dynamic Host Configuration Protocol"'>RFC2131</a>],
   [<a href="./rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>], and [<a href="./rfc5415.html" title='"CAPWAP Protocol Specification"'>RFC5415</a>].

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/2.%20%20CAPWAP%20AC%20DHCPv4%20Option"></a></body></html><a class="selflink" href="#section-2" id="section-2">2</a>.  CAPWAP AC DHCPv4 Option</span>

   This section defines a DHCPv4 option that carries a list of 32-bit
   (binary) IPv4 addresses indicating one or more CAPWAP ACs available
   to the WTP.









<span class="grey">Calhoun                     Standards Track                     [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc5417.html">RFC 5417</a>                 CAPWAP AC DHCP Option                March 2009</span>


   The DHCPv4 option for CAPWAP has the format shown in the following
   figure:

         0                   1
         0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |  option-code  | option-length |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                               |
         +       AC IPv4 Address         +
         |                               |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |             ...               |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   option-code:   OPTION_CAPWAP_AC_V4 (138)

   option-length:   Length of the 'options' field in octets; <em>MUST</em> be a
      multiple of four (4).

   AC IPv4 Address:  IPv4 address of a CAPWAP AC that the WTP may use.
      The ACs are listed in the order of preference for use by the WTP.

   A DHCPv4 client, acting on behalf of a CAPWAP WTP, <em>MUST</em> request the
   CAPWAP AC DHCPv4 Option in a Parameter Request List Option, as
   described in [<a href="./rfc2131.html" title='"Dynamic Host Configuration Protocol"'>RFC2131</a>] and [<a href="./rfc2132.html" title='"DHCP Options and BOOTP Vendor Extensions"'>RFC2132</a>].

   A DHCPv4 server returns the CAPWAP AC Option to the client if the
   server policy is configured appropriately and the server is
   configured with a list of CAPWAP AC addresses.

   A CAPWAP WTP, acting as a DHCPv4 client, receiving the CAPWAP AC
   DHCPv4 Option <em>MAY</em> use the (list of) IP address(es) to locate an AC.
   The CAPWAP Protocol [<a href="./rfc5415.html" title='"CAPWAP Protocol Specification"'>RFC5415</a>] provides guidance on the WTP's
   discovery process.

   The WTP, acting as a DHCPv4 client, <em>SHOULD</em> try the records in the
   order listed in the CAPWAP AC DHCPv4 Option received from the DHCPv4
   server.

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/3.%20%20CAPWAP%20AC%20DHCPv6%20Option"></a></body></html><a class="selflink" href="#section-3" id="section-3">3</a>.  CAPWAP AC DHCPv6 Option</span>

   This section defines a DHCPv6 option that carries a list of 128-bit
   (binary) IPv6 addresses indicating one or more CAPWAP ACs available
   to the WTP.






<span class="grey">Calhoun                     Standards Track                     [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc5417.html">RFC 5417</a>                 CAPWAP AC DHCP Option                March 2009</span>


   The DHCPv6 option for CAPWAP has the format shown in the following
   figure:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |       option-code             |       option-length           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       +                                                               +
       |                                                               |
       +                          AC IPv6 Address                      +
       |                                                               |
       +                                                               +
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                          ....                                 |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   option-code:   OPTION_CAPWAP_AC_V6 (52)

   option-length:   Length of the 'options' field in octets; <em>MUST</em> be a
      multiple of sixteen (16).

   AC IPv6 Address:  IPv6 address of a CAPWAP AC that the WTP may use.
      The ACs are listed in the order of preference for use by the WTP.

   A DHCPv6 client, acting on behalf of a CAPWAP WTP, <em>MUST</em> request the
   CAPWAP AC DHCPv6 Option in a Parameter Request List Option, as
   described in [<a href="./rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>].

   A DHCPv6 server returns the CAPWAP AC Option to the client if the
   server policy is configured appropriately and the server is
   configured with a list of CAPWAP AC addresses.

   A CAPWAP WTP, acting as a DHCPv6 client, receiving the CAPWAP AC
   DHCPv6 Option <em>MAY</em> use the (list of) IP address(es) to locate an AC.
   The CAPWAP Protocol [<a href="./rfc5415.html" title='"CAPWAP Protocol Specification"'>RFC5415</a>] provides guidance on the WTP's
   discovery process.

   The WTP, acting as a DHCPv6 client, <em>SHOULD</em> try the records in the
   order listed in the CAPWAP AC DHCPv6 Option received from the DHCPv6
   server.








<span class="grey">Calhoun                     Standards Track                     [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc5417.html">RFC 5417</a>                 CAPWAP AC DHCP Option                March 2009</span>


<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/4.%20%20IANA%20Considerations"></a></body></html><a class="selflink" href="#section-4" id="section-4">4</a>.  IANA Considerations</span>

   The following DHCPv4 option code for CAPWAP AC Options has been
   assigned by IANA:

           Option Name            Value       Described in
           -----------------------------------------------
           OPTION_CAPWAP_AC_V4    138         <a href="#section-2">Section 2</a>

   The following DHCPv6 option code for CAPWAP AC Options has been
   assigned by IANA:

           Option Name             Value       Described in
           ------------------------------------------------
           OPTION_CAPWAP_AC_V6      52         <a href="#section-3">Section 3</a>

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/5.%20%20Security%20Considerations"></a></body></html><a class="selflink" href="#section-5" id="section-5">5</a>.  Security Considerations</span>

   The security considerations in [<a href="./rfc2131.html" title='"Dynamic Host Configuration Protocol"'>RFC2131</a>], [<a href="./rfc2132.html" title='"DHCP Options and BOOTP Vendor Extensions"'>RFC2132</a>], and [<a href="./rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>]
   apply.  If an adversary manages to modify the response from a DHCP
   server or insert its own response, a WTP could be led to contact a
   rogue CAPWAP AC, possibly one that then intercepts call requests or
   denies service.  CAPWAP's use of Datagram Transport Layer Security
   (DTLS) <em>MUST</em> be used to authenticate the CAPWAP peers in the
   establishment of the session.

   In most of the networks, the DHCP exchange that delivers the options
   prior to network access authentication is neither integrity protected
   nor origin authenticated.  Therefore, in security sensitive
   environments, the options defined in this document <em>SHOULD NOT</em> be the
   only methods used to determine to which AC a WTP should connect.  The
   CAPWAP protocol [<a href="./rfc5415.html" title='"CAPWAP Protocol Specification"'>RFC5415</a>] defines other AC discovery procedures a WTP
   <em>MAY</em> utilize.

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/6.%20%20Acknowledgments"></a></body></html><a class="selflink" href="#section-6" id="section-6">6</a>.  Acknowledgments</span>

   The following individuals are acknowledged for their contributions to
   this protocol specification: Ralph Droms, Margaret Wasserman.

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/7.%20%20References"></a></body></html><a class="selflink" href="#section-7" id="section-7">7</a>.  References</span>

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/7.1.%20%20Normative%20References"></a></body></html><a class="selflink" href="#section-7.1" id="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2131">RFC2131</a>]  Droms, R., "Dynamic Host Configuration Protocol",
              <a href="./rfc2131.html">RFC 2131</a>, March 1997.



<span class="grey">Calhoun                     Standards Track                     [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc5417.html">RFC 5417</a>                 CAPWAP AC DHCP Option                March 2009</span>


   [<a id="ref-RFC2132">RFC2132</a>]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
              Extensions", <a href="./rfc2132.html">RFC 2132</a>, March 1997.

   [<a id="ref-RFC3315">RFC3315</a>]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", <a href="./rfc3315.html">RFC 3315</a>, July 2003.

   [<a id="ref-RFC5415">RFC5415</a>]  Montemurro, M., Stanley, D., and P. Calhoun, "CAPWAP
              Protocol Specification", <a href="./rfc5415.html">RFC 5415</a>, March 2009.

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/7.2.%20%20Informative%20References"></a></body></html><a class="selflink" href="#section-7.2" id="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-RFC3753">RFC3753</a>]  Manner, J. and M. Kojo, "Mobility Related Terminology",
              <a href="./rfc3753.html">RFC 3753</a>, June 2004.

Author's Address

   Pat R. Calhoun
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA  95134

   Phone: +1 408-902-3240
   EMail: pcalhoun@cisco.com



























Calhoun                     Standards Track                     [Page 6]
</pre>
</body>
</html>
