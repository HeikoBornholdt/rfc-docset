<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="index,follow" name="robots"/>
<meta content="rfchandler version 0.2" name="creator"/>
<meta content="W. Kumari" name="citation_author"/>
<meta content="R. Bush" name="citation_author"/>
<meta content="H. Schiller" name="citation_author"/>
<meta content="K. Patel" name="citation_author"/>
<meta content="August, 2015" name="citation_publication_date"/>
<meta content="Codification of AS 0 Processing" name="citation_title"/>
<meta content="10.17487/RFC7607" name="citation_doi"/>
<meta content="2070-1721" name="citation_issn"/>
<meta content="rfc7607" name="citation_technical_report_number"/>
<meta content="https://www.rfc-editor.org/rfc/pdfrfc/rfc7607.txt.pdf" name="citation_pdf_url"/>
<title>RFC 7607: Codification of AS 0 Processing</title>
<style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
           /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
<!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]--> <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script></head>
<body>
<span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href="/rfc/rfc7607.txt">TEXT</a>|<a href="/rfc/pdfrfc/rfc7607.txt.pdf">PDF</a>|<a href="/rfc/rfc7607.html">HTML</a>] [<a href="https://datatracker.ietf.org/doc/rfc7607" title="IETF Datatracker information for this document">Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=7607&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>] [<a class="boldtext" href="/errata/rfc7607" target="_blank">Errata</a>] [<a href="https://www.rfc-editor.org/info/rfc7607" title="Info page">Info page</a>]         </span><br/><span class="pre noprint docinfo"> </span><br/><span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/><span class="pre noprint docinfo"> <span style="color: #C00;">Errata Exist</span></span><pre>Internet Engineering Task Force (IETF)                         W. Kumari
Request for Comments: 7607                                        Google
Updates: <a href="./rfc4271.html">4271</a>                                                    R. Bush
Category: Standards Track                      Internet Initiative Japan
ISSN: 2070-1721                                              H. Schiller
                                                                  Google
                                                                K. Patel
                                                           Cisco Systems
                                                             August 2015


                    <span class="h1">Codification of AS 0 Processing</span>

Abstract

   This document updates <a href="./rfc4271.html">RFC 4271</a> and proscribes the use of Autonomous
   System (AS) 0 in the Border Gateway Protocol (BGP) OPEN, AS_PATH,
   AS4_PATH, AGGREGATOR, and AS4_AGGREGATOR attributes in the BGP UPDATE
   message.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741.html#section-2">SectionÂ 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7607">http://www.rfc-editor.org/info/rfc7607</a>.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



<span class="grey">Kumari, et al.               Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc7607.html">RFC 7607</a>                     AS 0 Processing                 August 2015</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
     <a href="#section-1.1">1.1</a>.  Requirements Notation . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Behavior  . . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-4">4</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-5">5</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-5.1">5.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-5.2">5.2</a>.  Informative References  . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/1.%20%20Introduction"></a></body></html><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   Autonomous System 0 was listed in the IANA Autonomous System Number
   Registry as "Reserved - May be use [sic] to identify non-routed
   networks" ([<a href="#ref-IANA.AS_Numbers">IANA.AS_Numbers</a>]).

   [<a id="ref-RFC6491">RFC6491</a>] specifies that AS 0 in a Route Origin Attestation (ROA) is
   used to mark a prefix and all its more specific prefixes as not to be
   used in a routing context.  This allows a resource holder to signal
   that a prefix (and the more specifics) should not be routed by
   publishing a ROA listing AS 0 as the only origin.  To respond to this
   signal requires that BGP implementations not accept or propagate
   routes containing AS 0.

   No clear statement that AS 0 was proscribed could be found in any BGP
   specification.  This document corrects this omission, most
   importantly in the case of the AS_PATH.  This represents an update to
   the error handling procedures given in Sections <a href="#section-6.2">6.2</a> and <a href="#section-6.3">6.3</a> of
   [<a href="./rfc4271.html" title='"A Border Gateway Protocol 4 (BGP-4)"'>RFC4271</a>] by specifying the behavior in the presence of AS 0.

   At least two implementations discard routes containing AS 0, and this
   document codifies this behavior.

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/1.1.%20%20Requirements%20Notation"></a></body></html><a class="selflink" href="#section-1.1" id="section-1.1">1.1</a>.  Requirements Notation</span>

   The key words "<em>MUST</em>", "<em>MUST NOT</em>", "<em>REQUIRED</em>", "<em>SHALL</em>", "<em>SHALL NOT</em>",
   "<em>SHOULD</em>", "<em>SHOULD NOT</em>", "<em>RECOMMENDED</em>", "<em>MAY</em>", and "<em>OPTIONAL</em>" in this
   document are to be interpreted as described in [<a href="./rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].










<span class="grey">Kumari, et al.               Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc7607.html">RFC 7607</a>                     AS 0 Processing                 August 2015</span>


<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/2.%20%20Behavior"></a></body></html><a class="selflink" href="#section-2" id="section-2">2</a>.  Behavior</span>

   A BGP speaker <em>MUST NOT</em> originate or propagate a route with an AS
   number of zero in the AS_PATH, AS4_PATH, AGGREGATOR, or
   AS4_AGGREGATOR attributes.

   An UPDATE message that contains the AS number of zero in the AS_PATH
   or AGGREGATOR attribute <em>MUST</em> be considered as malformed and be
   handled by the procedures specified in [<a href="./rfc7606.html" title='"Revised Error Handling for BGP UPDATE Messages"'>RFC7606</a>].

   An UPDATE message that contains the AS number of zero in the AS4_PATH
   or AS4_AGGREGATOR attribute <em>MUST</em> be considered as malformed and be
   handled by the procedures specified in [<a href="./rfc6793.html" title='"BGP Support for Four-Octet Autonomous System (AS) Number Space"'>RFC6793</a>].

   If a BGP speaker receives zero as the peer AS in an OPEN message, it
   <em>MUST</em> abort the connection and send a NOTIFICATION with Error Code
   "OPEN Message Error" and subcode "Bad Peer AS" (see <a href="./rfc4271.html#section-6">SectionÂ 6 of
   [RFC4271]</a>).  A router <em>MUST NOT</em> initiate a connection claiming to be
   AS 0.

   Authors of future protocol extensions that carry the Autonomous
   System number are encouraged to keep in mind that AS 0 is reserved
   and to provide clear direction on how to handle AS 0.

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/3.%20%20IANA%20Considerations"></a></body></html><a class="selflink" href="#section-3" id="section-3">3</a>.  IANA Considerations</span>

   The IANA has updated the registry for "16-bit Autonomous System
   Numbers" so that the entry for AS 0 is simply "Reserved".

<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/4.%20%20Security%20Considerations"></a></body></html><a class="selflink" href="#section-4" id="section-4">4</a>.  Security Considerations</span>

   By allowing a Resource Public Key Infrastructure (RPKI) resource
   holder to issue a ROA saying that AS 0 is the only valid origin for a
   route, we allow them to state that a particular address resource is
   not in use.  By ensuring that all implementations that see AS 0 in a
   route ignore that route, we prevent a malicious party from announcing
   routes containing AS 0 in an attempt to hijack those resources.

   In addition, by standardizing the behavior upon reception of an
   AS_PATH (or AS4_PATH) containing AS 0, this document makes the
   behavior better defined.










<span class="grey">Kumari, et al.               Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc7607.html">RFC 7607</a>                     AS 0 Processing                 August 2015</span>


<span class="h2"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/5.%20%20References"></a></body></html><a class="selflink" href="#section-5" id="section-5">5</a>.  References</span>

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/5.1.%20%20Normative%20References"></a></body></html><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  Normative References</span>

   [<a id="ref-IANA.AS_Numbers">IANA.AS_Numbers</a>]
              IANA, "Autonomous System (AS) Numbers",
              &lt;<a href="http://www.iana.org/assignments/as-numbers">http://www.iana.org/assignments/as-numbers</a>&gt;.

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC4271">RFC4271</a>]  Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., "A
              Border Gateway Protocol 4 (BGP-4)", <a href="./rfc4271.html">RFC 4271</a>,
              DOI 10.17487/RFC4271, January 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4271">http://www.rfc-editor.org/info/rfc4271</a>&gt;.

   [<a id="ref-RFC6793">RFC6793</a>]  Vohra, Q. and E. Chen, "BGP Support for Four-Octet
              Autonomous System (AS) Number Space", <a href="./rfc6793.html">RFC 6793</a>,
              DOI 10.17487/RFC6793, December 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6793">http://www.rfc-editor.org/info/rfc6793</a>&gt;.

   [<a id="ref-RFC7606">RFC7606</a>]  Chen, E., Ed., Scudder, J., Ed., Mohapatra, P., and K.
              Patel, "Revised Error Handling for BGP UPDATE Messages",
              <a href="./rfc7606.html">RFC 7606</a>, DOI 10.17487/RFC7606, July 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7606">http://www.rfc-editor.org/info/rfc7606</a>&gt;.

<span class="h3"><html><body><a class="dashAnchor" name="//apple_ref/cpp/Shortcut/5.2.%20%20Informative%20References"></a></body></html><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  Informative References</span>

   [<a id="ref-RFC6491">RFC6491</a>]  Manderson, T., Vegoda, L., and S. Kent, "Resource Public
              Key Infrastructure (RPKI) Objects Issued by IANA",
              <a href="./rfc6491.html">RFC 6491</a>, DOI 10.17487/RFC6491, February 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6491">http://www.rfc-editor.org/info/rfc6491</a>&gt;.

Acknowledgements

   The authors wish to thank Elwyn Davies, Enke Chen, Brian Dickson,
   Bruno Decraene, Robert Raszuk, Jakob Heitz, Danny McPherson, Chris
   Morrow, iLya, John Scudder, Jeff Tantsura, Daniel Ginsburg, and Susan
   Hares.  Apologies to those we may have missed; it was not
   intentional.









<span class="grey">Kumari, et al.               Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc7607.html">RFC 7607</a>                     AS 0 Processing                 August 2015</span>


Authors' Addresses

   Warren Kumari
   Google
   1600 Amphitheatre Parkway
   Mountain View, CA  94043
   United States

   Email: warren@kumari.net


   Randy Bush
   Internet Initiative Japan
   5147 Crystal Springs
   Bainbridge Island, WA  98110
   United States

   Email: randy@psg.com


   Heather Schiller
   Google
   1600 Amphitheatre Parkway
   Mountain View, CA  94043
   United States

   Email: has@google.com


   Keyur Patel
   Cisco Systems
   170 W. Tasman Drive
   San Jose, CA  95134
   United States

   Email: keyupate@cisco.com















Kumari, et al.               Standards Track                    [Page 5]
</pre>
</body>
</html>
